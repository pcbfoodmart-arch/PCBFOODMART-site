<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>PCB Food Mart – Jamaican & Caribbean Groceries</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    :root {
      --green: #0c6b4a;
      --green-soft: #17a26f;
      --orange: #ff9f1c;
      --bg: #f5f7f8;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      color: #111;
    }
    a { color: inherit; text-decoration: none; }

    .container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 16px;
    }

    /* Header */
    header {
      position: sticky;
      top: 0;
      z-index: 20;
      background: white;
      border-bottom: 1px solid #e3e3e3;
    }
    .header-inner {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .logo-text {
      font-weight: 800;
      font-size: 1.3rem;
      color: var(--green);
    }
    nav {
      margin-left: auto;
      display: flex;
      gap: 14px;
      font-size: 0.95rem;
    }
    nav a {
      padding: 8px 0;
      font-weight: 600;
      color: #444;
    }
    nav a:hover {
      color: var(--green);
    }
    .cart-btn {
      margin-left: 12px;
      border: none;
      background: var(--green-soft);
      color: #fff;
      padding: 8px 14px;
      border-radius: 999px;
      font-size: 0.9rem;
      cursor: pointer;
    }

    /* Hero */
    .hero {
      background: linear-gradient(120deg, #e9fff4, #fffbe9);
      padding: 28px 0 32px;
    }
    .hero-inner {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.4fr);
      gap: 18px;
      align-items: center;
    }
    .hero h1 {
      font-size: 1.9rem;
      margin-bottom: 10px;
      color: #0b5d44;
    }
    .hero p {
      color: #555;
      margin-bottom: 16px;
    }
    .hero-badges {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: 18px;
    }
    .badge {
      background: white;
      border-radius: 999px;
      padding: 5px 10px;
      font-size: 0.75rem;
      border: 1px solid #e3e3e3;
    }
    .hero-cta {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    .btn-primary {
      border: none;
      background: var(--green);
      color: #fff;
      padding: 10px 16px;
      border-radius: 999px;
      font-size: 0.9rem;
      cursor: pointer;
    }
    .btn-secondary {
      border-radius: 999px;
      padding: 10px 16px;
      border: 1px solid #ddd;
      background: white;
      font-size: 0.9rem;
      cursor: pointer;
    }
    .hero-card {
      background: white;
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 8px 22px rgba(0,0,0,0.06);
      font-size: 0.85rem;
    }
    .hero-card h3 {
      font-size: 1rem;
      margin-bottom: 4px;
      color: var(--green);
    }
    .hero-list {
      list-style: none;
      margin-top: 6px;
    }
    .hero-list li::before {
      content: "• ";
      color: var(--orange);
      font-weight: bold;
    }
    .hero-list li {
      margin: 3px 0;
    }

    /* Products */
    .section {
      padding: 26px 0 6px;
    }
    .section h2 {
      font-size: 1.4rem;
      margin-bottom: 10px;
      color: #222;
    }
    .section p.sub {
      font-size: 0.9rem;
      color: #666;
      margin-bottom: 16px;
    }
    .filters {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 16px;
    }
    .filter-btn {
      border-radius: 999px;
      border: 1px solid #ddd;
      padding: 7px 12px;
      font-size: 0.8rem;
      background: white;
      cursor: pointer;
    }
    .filter-btn.active {
      background: var(--green-soft);
      border-color: var(--green-soft);
      color: white;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
      gap: 12px;
    }
    .card {
      background: white;
      border-radius: 12px;
      padding: 10px;
      border: 1px solid #eee;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      min-height: 170px;
    }
    .card h3 {
      font-size: 0.98rem;
      margin-bottom: 4px;
    }
    .card small {
      color: #777;
    }
    .price {
      margin-top: 8px;
      font-weight: 700;
      font-size: 0.9rem;
      color: #111;
    }
    .card button {
      margin-top: 10px;
      border: none;
      background: var(--orange);
      color: #111;
      padding: 8px;
      border-radius: 999px;
      font-size: 0.8rem;
      cursor: pointer;
    }

    /* About / Contact */
    .panel {
      background: white;
      border-radius: 12px;
      padding: 14px;
      border: 1px solid #eee;
      margin-bottom: 14px;
      font-size: 0.9rem;
      color: #444;
    }
    .panel h3 {
      font-size: 1rem;
      margin-bottom: 6px;
      color: var(--green);
    }
    .panel ul {
      margin-left: 16px;
      margin-top: 4px;
    }

    /* Footer */
    footer {
      padding: 14px 0 20px;
      background: #0b5d44;
      color: white;
      margin-top: 24px;
      font-size: 0.8rem;
      text-align: center;
    }

    /* Cart modal */
    .modal-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.55);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 40;
    }
    .modal {
      background: white;
      border-radius: 12px;
      padding: 16px;
      width: min(90vw, 420px);
      max-height: 80vh;
      overflow: auto;
      font-size: 0.9rem;
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }
    .modal-header h3 {
      font-size: 1rem;
    }
    .modal-close {
      border: none;
      background: transparent;
      font-size: 1.2rem;
      cursor: pointer;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      margin: 4px 0;
    }
    .cart-total {
      border-top: 1px solid #eee;
      padding-top: 8px;
      margin-top: 6px;
      font-weight: 700;
    }
    .cart-actions {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      margin-top: 10px;
    }
    .btn-outline {
      border-radius: 999px;
      border: 1px solid #ccc;
      background: white;
      padding: 8px 10px;
      cursor: pointer;
      font-size: 0.8rem;
    }

    /* Rewards popup */
    .rewards-backdrop {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }
    .rewards-card {
      background: white;
      border-radius: 14px;
      padding: 16px;
      width: min(92vw, 420px);
      font-size: 0.9rem;
      box-shadow: 0 12px 28px rgba(0,0,0,0.18);
    }
    .rewards-card h3 {
      font-size: 1.1rem;
      margin-bottom: 6px;
      color: var(--green);
    }
    .rewards-card p {
      margin-bottom: 10px;
      color: #444;
    }
    .rewards-grid {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin: 8px 0;
    }
    .rewards-grid input {
      padding: 8px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 0.85rem;
      width: 100%;
    }
    .rewards-check {
      display: flex;
      align-items: flex-start;
      gap: 6px;
      margin: 6px 0 12px;
      font-size: 0.78rem;
      color: #555;
    }
    .rewards-actions {
      display: flex;
      gap: 8px;
      justify-content: flex-end;
      flex-wrap: wrap;
    }
    .btn-text {
      border: none;
      background: transparent;
      color: #777;
      font-size: 0.8rem;
      cursor: pointer;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero-inner {
        grid-template-columns: 1fr;
      }
      nav {
        display: none;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="container header-inner">
    <div class="logo-text">PCB Food Mart</div>
    <nav>
      <a href="#products">Shop</a>
      <a href="#about">About</a>
      <a href="#contact">Contact</a>
    </nav>
    <button class="cart-btn" id="cartBtn">Cart (<span id="cartCount">0</span>)</button>
  </div>
</header>

<section class="hero">
  <div class="container hero-inner">
    <div>
      <h1>Jamaican & Caribbean groceries in Panama City Beach & online.</h1>
      <p>Meat, produce, snacks, Latin grocery, drinks, bakery, personal care, household items and more. Order online and we’ll prepare or ship your favorites.</p>
      <div class="hero-badges">
        <span class="badge">Fresh meat & fish</span>
        <span class="badge">Authentic Jamaican products</span>
        <span class="badge">Latin grocery & bakery</span>
      </div>
      <div class="hero-cta">
        <button class="btn-primary" onclick="scrollToSection('products')">Shop categories</button>
        <button class="btn-secondary" onclick="openRewardsPopup()">Join rewards</button>
      </div>
    </div>
    <div class="hero-card">
      <h3>Shop by category</h3>
      <ul class="hero-list">
        <li>Meat, fish & poultry</li>
        <li>Fresh produce & grains</li>
        <li>Grocery, snacks, drinks, bakery</li>
        <li>Chemicals, household, personal care</li>
        <li>Latin grocery, tea, coffee, baking</li>
      </ul>
    </div>
  </div>
</section>

<main class="container">

  <section id="products" class="section">
    <h2>Featured products</h2>
    <p class="sub">Example items for now – we’ll connect these to your real inventory later.</p>

    <div class="filters">
      <button class="filter-btn active" data-filter="all">All</button>
      <button class="filter-btn" data-filter="meat">Meat</button>
      <button class="filter-btn" data-filter="fish">Fish</button>
      <button class="filter-btn" data-filter="produce">Produce</button>
      <button class="filter-btn" data-filter="grocery">Grocery</button>
      <button class="filter-btn" data-filter="snacks">Snacks</button>
      <button class="filter-btn" data-filter="household">Household</button>
      <button class="filter-btn" data-filter="latin">Latin grocery</button>
    </div>

    <div class="grid" id="productGrid"></div>
  </section>

  <section id="about" class="section">
    <div class="panel">
      <h3>About PCB Food Mart</h3>
      <p>PCB Food Mart brings the taste of Jamaica, the Caribbean, and Latin America to Panama City Beach. We stock staples, fresh produce, meat & fish, snacks, drinks, bakery and everyday household essentials.</p>
      <ul>
        <li><strong>Address:</strong> 11218 Hutchinson Blvd, Panama City Beach, FL</li>
        <li><strong>Hours:</strong> Mon–Sat 8:00 AM – 8:00 PM (adjust as needed)</li>
        <li><strong>Phone:</strong> (add your number)</li>
      </ul>
    </div>
  </section>

  <section id="contact" class="section">
    <div class="panel">
      <h3>Contact & directions</h3>
      <p>Have questions about products, shipping, or special orders? Reach out anytime.</p>
      <ul>
        <li>Email: <a href="mailto:info@pcbfoodmart.com">info@pcbfoodmart.com</a></li>
        <li>Map: <a href="https://www.google.com/maps/search/11218+Hutchinson+Blvd+Panama+City+Beach+FL" target="_blank">Open in Google Maps</a></li>
      </ul>
      <p style="margin-top:8px;font-size:0.85rem;color:#666;">Online ordering & Clover payment will be enabled soon – we’re setting it up.</p>
    </div>
  </section>

</main>

<footer>
  &copy; <span id="year"></span> PCB Food Mart LLC – Meat • Produce • Grocery • Snacks • Household • Latin Grocery • Bakery
</footer>

<!-- Cart modal -->
<div class="modal-backdrop" id="cartModal">
  <div class="modal">
    <div class="modal-header">
      <h3>Your cart</h3>
      <button class="modal-close" onclick="toggleCart(false)">&times;</button>
    </div>
    <div id="cartItems"></div>
    <div class="cart-total" id="cartTotal"></div>
    <div class="cart-actions">
      <button class="btn-outline" onclick="clearCart()">Clear</button>
      <button class="btn-primary" onclick="checkout()">Checkout (coming soon)</button>
    </div>
  </div>
</div>

<!-- Rewards popup -->
<div class="rewards-backdrop" id="rewardsPopup">
  <div class="rewards-card">
    <h3>Get 10% off your first order</h3>
    <p>Join PCB Food Mart Rewards to receive deals, weekly specials, and Jamaican & Latin favorites restocks.</p>
    <div class="rewards-grid">
      <input id="rwName" placeholder="Your name">
      <input id="rwEmail" placeholder="Email address" type="email">
      <input id="rwPhone" placeholder="Phone number (for texts)">
    </div>
    <label class="rewards-check">
      <input type="checkbox" id="rwConsent">
      <span>I agree to receive promotional texts/emails about deals, sales and new products from PCB Food Mart.</span>
    </label>
    <div class="rewards-actions">
      <button class="btn-text" onclick="closeRewardsPopup()">No thanks</button>
      <button class="btn-primary" onclick="submitRewards()">Join &amp; get rewards</button>
    </div>
  </div>
</div>

<script>
  // Simple demo products
  const products = [
    { id: 1, name: "Chicken leg quarters (per lb)", category: "meat", price: 2.49 },
    { id: 2, name: "Fresh red snapper (per lb)", category: "fish", price: 9.99 },
    { id: 3, name: "Green bananas (per lb)", category: "produce", price: 1.79 },
    { id: 4, name: "Jamaican water crackers", category: "grocery", price: 3.49 },
    { id: 5, name: "Cheese curls snack", category: "snacks", price: 1.99 },
    { id: 6, name: "Laundry detergent 1 gal", category: "household", price: 7.99 },
    { id: 7, name: "Latin style corn flour", category: "latin", price: 3.29 },
    { id: 8, name: "Hard dough bread (loaf)", category: "grocery", price: 4.25 }
  ];

  let cart = JSON.parse(localStorage.getItem("pcb_cart") || "[]");

  function $(id) { return document.getElementById(id); }

  function renderProducts(filter = "all") {
    const grid = $("productGrid");
    grid.innerHTML = "";
    const list = products.filter(p => filter === "all" ? true : p.category === filter);
    list.forEach(p => {
      const div = document.createElement("div");
      div.className = "card";
      div.innerHTML = `
        <div>
          <h3>${p.name}</h3>
          <small>${p.category}</small>
          <div class="price">$${p.price.toFixed(2)}</div>
        </div>
        <button onclick="addToCart(${p.id})">Add to cart</button>
      `;
      grid.appendChild(div);
    });
  }

  function addToCart(id) {
    const existing = cart.find(i => i.id === id);
    if (existing) existing.qty += 1;
    else {
      const p = products.find(x => x.id === id);
      cart.push({ id: p.id, name: p.name, price: p.price, qty: 1 });
    }
    saveCart();
  }

  function saveCart() {
    localStorage.setItem("pcb_cart", JSON.stringify(cart));
    updateCartCount();
  }

  function updateCartCount() {
    const count = cart.reduce((s,i) => s + i.qty, 0);
    $("cartCount").textContent = count;
  }

  function toggleCart(show) {
    const modal = $("cartModal");
    if (typeof show === "boolean") {
      modal.style.display = show ? "flex" : "none";
    } else {
      modal.style.display = (modal.style.display === "flex") ? "none" : "flex";
    }
    if (modal.style.display === "flex") renderCart();
  }

  function renderCart() {
    const itemsEl = $("cartItems");
    const totalEl = $("cartTotal");
    itemsEl.innerHTML = "";
    if (!cart.length) {
      itemsEl.textContent = "Your cart is empty.";
      totalEl.textContent = "";
      return;
    }
    let total = 0;
    cart.forEach(i => {
      total += i.price * i.qty;
      const row = document.createElement("div");
      row.className = "cart-item";
      row.innerHTML = `
        <span>${i.name} × ${i.qty}</span>
        <span>$${(i.price * i.qty).toFixed(2)}</span>
      `;
      itemsEl.appendChild(row);
    });
    totalEl.textContent = "Subtotal: $" + total.toFixed(2);
  }

  function clearCart() {
    cart = [];
    saveCart();
    renderCart();
  }

  function checkout() {
    alert("Online payment with Clover is coming soon. For now, please call the store to complete your order.");
  }

  // Rewards popup
  function openRewardsPopup() {
    $("rewardsPopup").style.display = "flex";
  }
  function closeRewardsPopup() {
    $("rewardsPopup").style.display = "none";
  }

  function submitRewards() {
    const name = $("rwName").value.trim();
    const email = $("rwEmail").value.trim();
    const phone = $("rwPhone").value.trim();
    const consent = $("rwConsent").checked;

    if (!email && !phone) {
      alert("Please enter at least an email or phone number.");
      return;
    }
    if (!consent) {
      alert("Please tick the box to agree to receive deals and promotions.");
      return;
    }

    // For now we just store locally; later this will send to Supabase.
    const subsRaw = localStorage.getItem("pcb_subscribers") || "[]";
    const subs = JSON.parse(subsRaw);
    subs.push({ name, email, phone, ts: Date.now() });
    localStorage.setItem("pcb_subscribers", JSON.stringify(subs));

    alert("Thank you for joining PCB Food Mart Rewards! We'll message you when we have deals and sales.");
    closeRewardsPopup();
    localStorage.setItem("pcb_rewards_seen", "1");
  }

  // Show rewards popup only once per device
  function maybeShowRewardsPopup() {
    if (!localStorage.getItem("pcb_rewards_seen")) {
      setTimeout(() => {
        openRewardsPopup();
      }, 4000);
    }
  }

  function scrollToSection(id) {
    const el = document.getElementById(id);
    if (el) el.scrollIntoView({ behavior: "smooth" });
  }

  // Init
  document.addEventListener("DOMContentLoaded", () => {
    renderProducts();
    updateCartCount();

    // Filter buttons
    document.querySelectorAll(".filter-btn").forEach(btn => {
      btn.addEventListener("click", () => {
        document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        const f = btn.getAttribute("data-filter");
        renderProducts(f);
      });
    });

    // Cart button
    document.getElementById("cartBtn").addEventListener("click", () => toggleCart());

    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Rewards
    maybeShowRewardsPopup();
  });
</script>

</body>
</html>
